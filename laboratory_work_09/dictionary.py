"""
Словарь для преобразования слов в символы и обратно
"""


class MathDictionary:
    """Словарь только для базовых операций и чисел 0-20"""

    # Слова → символы
    WORD_TO_SYMBOL = {
        # Операции
        'плюс': '+',
        'минус': '-',
        'умножить': '*',
        'разделить': '/',
        'в': '^',  # для "в степени"
        'степени': '^',
        'корень': 'sqrt',
        'квадратный': 'sqrt',  # для "квадратный корень"

        # Числа словами
        'ноль': '0', 'один': '1', 'два': '2', 'три': '3', 'четыре': '4',
        'пять': '5', 'шесть': '6', 'семь': '7', 'восемь': '8', 'девять': '9',
        'десять': '10', 'одиннадцать': '11', 'двенадцать': '12',
        'тринадцать': '13', 'четырнадцать': '14', 'пятнадцать': '15',
        'шестнадцать': '16', 'семнадцать': '17', 'восемнадцать': '18',
        'девятнадцать': '19', 'двадцать': '20',
    }

    # Символы → слова
    SYMBOL_TO_WORD = {v: k for k, v in WORD_TO_SYMBOL.items()}

    # Особые преобразования
    SYMBOL_TO_WORD.update({
        '^': 'в степени',
        'sqrt': 'корень из',
    })

    @classmethod
    def word_to_symbol(cls, word: str) -> str:
        """Преобразует слово в символ"""
        return cls.WORD_TO_SYMBOL.get(word.lower(), word)

    @classmethod
    def symbol_to_word(cls, symbol: str) -> str:
        """Преобразует символ в слово"""
        return cls.SYMBOL_TO_WORD.get(symbol, symbol)

    @classmethod
    def normalize_text(cls, text: str) -> str:
        """Нормализует текст для обработки"""
        text = text.lower().strip()

        # Заменяем составные выражения
        text = text.replace('умножить на', 'умножить')
        text = text.replace('разделить на', 'разделить')
        text = text.replace('делить на', 'разделить')
        text = text.replace('квадратный корень', 'квадратный')
        text = text.replace('в квадрате', 'в 2')
        text = text.replace('в кубе', 'в 3')

        return text